{
    "has_issue": false,
    "overall_severity": "",
    "issues": [],
    "fixed_code": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003c!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"\u003e\n\u003cmapper namespace=\"com.bdqn.dao.EmployeeMapper\"\u003e\n\n    \u003c!-- 根据登录账号查询员工信息 --\u003e\n    \u003cselect id=\"findEmployeeByLoginName\" resultType=\"com.bdqn.entity.Employee\"\u003e\n        select * from sys_employee where loginName = #{loginName}\n    \u003c/select\u003e\n\n    \u003c!-- 根据部门编号查询该部门下的员工数量 --\u003e\n    \u003cselect id=\"getEmployeeCountByDeptId\" resultType=\"int\"\u003e\n        select count(1) from sys_employee where deptId = #{deptId}\n    \u003c/select\u003e\n\n\n    \u003c!-- 根据角色编号查询员工数量 --\u003e\n    \u003cselect id=\"getEmployeeCountByRoleId\" resultType=\"int\"\u003e\n        select count(1) from sys_employee e\n        inner join sys_role_employee re on e.id = re.`eid`\n        where re.`rid` = #{roleId}\n    \u003c/select\u003e\n\n\n    \u003c!-- 查询员工列表 --\u003e\n    \u003cselect id=\"findEmployeeList\" resultType=\"com.bdqn.entity.Employee\"\u003e\n        select e.*,d.deptName from sys_employee e\n        inner join sys_dept d on d.id = e.deptId\n        \u003cwhere\u003e\n            \u003cif test=\"loginName!=null and loginName!=''\"\u003e\n                and e.loginName like concat('%',#{loginName},'%')\n            \u003c/if\u003e\n            \u003cif test=\"name!=null and name!=''\"\u003e\n                and e.name like concat('%',#{name},'%')\n            \u003c/if\u003e\n            \u003cif test=\"sex!=null\"\u003e\n                and e.sex = #{sex}\n            \u003c/if\u003e\n            \u003cif test=\"deptId!=null\"\u003e\n                and e.deptId = #{deptId}\n            \u003c/if\u003e\n            \u003cif test=\"startDate!=null\"\u003e\n               \u003c![CDATA[ and e.hireDate \u003e= #{startDate} ]]\u003e\n            \u003c/if\u003e\n            \u003cif test=\"endDate!=null\"\u003e\n               \u003c![CDATA[ and e.hireDate \u003c= #{endDate} ]]\u003e\n            \u003c/if\u003e\n        \u003c/where\u003e\n        order by e.id\n    \u003c/select\u003e\n\n    \u003cinsert id=\"addEmployee\"\u003e\n       insert into sys_employee (loginName,loginPwd,name,sex,deptId,hireDate,salt,createdBy,createDate,remark)\n       values(#{loginName},#{loginPwd},#{name},#{sex},#{deptId},#{hireDate},#{salt},#{createdBy},#{createDate},#{remark})\n    \u003c/insert\u003e\n\n    \u003cupdate id=\"updateEmployee\"\u003e\n        update sys_employee\n        \u003cset\u003e\n            \u003cif test=\"loginPwd!=null and loginPwd!=''\"\u003e\n                loginPwd = #{loginPwd},\n            \u003c/if\u003e\n            \u003cif test=\"name!=null and name!=''\"\u003e\n                name = #{name},\n            \u003c/if\u003e\n            \u003cif test=\"sex!=null\"\u003e\n                sex = #{sex},\n            \u003c/if\u003e\n            \u003cif test=\"deptId!=null\"\u003e\n                deptId = #{deptId},\n            \u003c/if\u003e\n            \u003cif test=\"hireDate!=null\"\u003e\n                hireDate = #{hireDate},\n            \u003c/if\u003e\n            \u003cif test=\"salt!=null and salt!=''\"\u003e\n                salt = #{salt},\n            \u003c/if\u003e\n            \u003cif test=\"remark!=null and remark!=''\"\u003e\n                remark = #{remark},\n            \u003c/if\u003e\n            \u003cif test=\"modifyBy!=null\"\u003e\n                modifyBy = #{modifyBy},\n            \u003c/if\u003e\n            \u003cif test=\"modifyDate!=null\"\u003e\n                modifyDate = #{modifyDate},\n            \u003c/if\u003e\n        \u003c/set\u003e\n        where id = #{id}\n    \u003c/update\u003e\n\n    \u003cdelete id=\"deleteById\"\u003e\n        delete from sys_employee  where id = #{id}\n    \u003c/delete\u003e\n\n    \u003cdelete id=\"deleteEmployeeAndRole\"\u003e\n        delete from sys_role_employee where eid= #{eid}\n    \u003c/delete\u003e\n\n\n\n\u003c/mapper\u003e\n",
    "original_code": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003c!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"\u003e\n\u003cmapper namespace=\"com.bdqn.dao.EmployeeMapper\"\u003e\n\n    \u003c!-- 根据登录账号查询员工信息 --\u003e\n    \u003cselect id=\"findEmployeeByLoginName\" resultType=\"com.bdqn.entity.Employee\"\u003e\n        select * from sys_employee where loginName = #{loginName}\n    \u003c/select\u003e\n\n    \u003c!-- 根据部门编号查询该部门下的员工数量 --\u003e\n    \u003cselect id=\"getEmployeeCountByDeptId\" resultType=\"int\"\u003e\n        select count(1) from sys_employee where deptId = #{deptId}\n    \u003c/select\u003e\n\n\n    \u003c!-- 根据角色编号查询员工数量 --\u003e\n    \u003cselect id=\"getEmployeeCountByRoleId\" resultType=\"int\"\u003e\n        select count(1) from sys_employee e\n        inner join sys_role_employee re on e.id = re.`eid`\n        where re.`rid` = #{roleId}\n    \u003c/select\u003e\n\n\n    \u003c!-- 查询员工列表 --\u003e\n    \u003cselect id=\"findEmployeeList\" resultType=\"com.bdqn.entity.Employee\"\u003e\n        select e.*,d.deptName from sys_employee e\n        inner join sys_dept d on d.id = e.deptId\n        \u003cwhere\u003e\n            \u003cif test=\"loginName!=null and loginName!=''\"\u003e\n                and e.loginName like concat('%',#{loginName},'%')\n            \u003c/if\u003e\n            \u003cif test=\"name!=null and name!=''\"\u003e\n                and e.name like concat('%',#{name},'%')\n            \u003c/if\u003e\n            \u003cif test=\"sex!=null\"\u003e\n                and e.sex = #{sex}\n            \u003c/if\u003e\n            \u003cif test=\"deptId!=null\"\u003e\n                and e.deptId = #{deptId}\n            \u003c/if\u003e\n            \u003cif test=\"startDate!=null\"\u003e\n               \u003c![CDATA[ and e.hireDate \u003e= #{startDate} ]]\u003e\n            \u003c/if\u003e\n            \u003cif test=\"endDate!=null\"\u003e\n               \u003c![CDATA[ and e.hireDate \u003c= #{endDate} ]]\u003e\n            \u003c/if\u003e\n        \u003c/where\u003e\n        order by e.id\n    \u003c/select\u003e\n\n    \u003cinsert id=\"addEmployee\"\u003e\n       insert into sys_employee (loginName,loginPwd,name,sex,deptId,hireDate,salt,createdBy,createDate,remark)\n       values(#{loginName},#{loginPwd},#{name},#{sex},#{deptId},#{hireDate},#{salt},#{createdBy},#{createDate},#{remark})\n    \u003c/insert\u003e\n\n    \u003cupdate id=\"updateEmployee\"\u003e\n        update sys_employee\n        \u003cset\u003e\n            \u003cif test=\"loginPwd!=null and loginPwd!=''\"\u003e\n                loginPwd = #{loginPwd},\n            \u003c/if\u003e\n            \u003cif test=\"name!=null and name!=''\"\u003e\n                name = #{name},\n            \u003c/if\u003e\n            \u003cif test=\"sex!=null\"\u003e\n                sex = #{sex},\n            \u003c/if\u003e\n            \u003cif test=\"deptId!=null\"\u003e\n                deptId = #{deptId},\n            \u003c/if\u003e\n            \u003cif test=\"hireDate!=null\"\u003e\n                hireDate = #{hireDate},\n            \u003c/if\u003e\n            \u003cif test=\"salt!=null and salt!=''\"\u003e\n                salt = #{salt},\n            \u003c/if\u003e\n            \u003cif test=\"remark!=null and remark!=''\"\u003e\n                remark = #{remark},\n            \u003c/if\u003e\n            \u003cif test=\"modifyBy!=null\"\u003e\n                modifyBy = #{modifyBy},\n            \u003c/if\u003e\n            \u003cif test=\"modifyDate!=null\"\u003e\n                modifyDate = #{modifyDate},\n            \u003c/if\u003e\n        \u003c/set\u003e\n        where id = #{id}\n    \u003c/update\u003e\n\n    \u003cdelete id=\"deleteById\"\u003e\n        delete from sys_employee  where id = #{id}\n    \u003c/delete\u003e\n\n    \u003cdelete id=\"deleteEmployeeAndRole\"\u003e\n        delete from sys_role_employee where eid= #{eid}\n    \u003c/delete\u003e\n\n\n\n\u003c/mapper\u003e\n",
    "path": "target/ssm_hotel-1.0-SNAPSHOT/WEB-INF/classes/mapper/EmployeeMapper.xml",
    "model_usage_metrics": {
        "Duration": 1102945930,
        "OpenAiUsage": {
            "completion_tokens": 0,
            "prompt_tokens": 0,
            "total_tokens": 0,
            "completion_tokens_details": {
                "accepted_prediction_tokens": 0,
                "audio_tokens": 0,
                "reasoning_tokens": 0,
                "rejected_prediction_tokens": 0
            },
            "prompt_tokens_details": {
                "audio_tokens": 0,
                "cached_tokens": 0
            }
        }
    }
}