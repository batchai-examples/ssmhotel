{
    "has_issue": false,
    "overall_severity": "",
    "issues": [],
    "fixed_code": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003c!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"\u003e\n\u003cmapper namespace=\"com.bdqn.dao.OrdersMapper\"\u003e\n\n    \u003c!-- 定义基础的ResultMap --\u003e\n    \u003cresultMap id=\"BaseResultMap\" type=\"com.bdqn.entity.Orders\"\u003e\n        \u003cid column=\"id\" property=\"id\" /\u003e\n        \u003cresult column=\"ordersNo\"  property=\"ordersno\" /\u003e\n        \u003cresult column=\"accountId\" property=\"accountid\" /\u003e\n        \u003cresult column=\"roomTypeId\"  property=\"roomtypeid\" /\u003e\n        \u003cresult column=\"roomId\"  property=\"roomid\" /\u003e\n        \u003cresult column=\"reservationName\" property=\"reservationname\" /\u003e\n        \u003cresult column=\"idCard\" property=\"idcard\" /\u003e\n        \u003cresult column=\"phone\" property=\"phone\" /\u003e\n        \u003cresult column=\"status\"  property=\"status\" /\u003e\n        \u003cresult column=\"reserveDate\"  property=\"reservedate\" /\u003e\n        \u003cresult column=\"arriveDate\"  property=\"arrivedate\" /\u003e\n        \u003cresult column=\"leaveDate\" property=\"leavedate\" /\u003e\n        \u003cresult column=\"reservePrice\"  property=\"reserveprice\" /\u003e\n        \u003cresult column=\"remark\"  property=\"remark\" /\u003e\n    \u003c/resultMap\u003e\n\n    \u003cresultMap id=\"ordersRoomAndTypeResultMap\" type=\"com.bdqn.entity.Orders\" extends=\"BaseResultMap\"\u003e\n        \u003c!-- 配置订单与房间关系 --\u003e\n        \u003cassociation property=\"room\" javaType=\"com.bdqn.entity.Room\"\u003e\n            \u003cid column=\"id\" property=\"id\"/\u003e\n            \u003cresult property=\"roomnum\" column=\"roomnum\"/\u003e\n        \u003c/association\u003e\n        \u003c!-- 配置订单与房型关系 --\u003e\n        \u003cassociation property=\"roomType\" javaType=\"com.bdqn.entity.RoomType\"\u003e\n            \u003cid property=\"id\" column=\"id\"/\u003e\n            \u003cresult property=\"typename\" column=\"typename\"/\u003e\n        \u003c/association\u003e\n    \u003c/resultMap\u003e\n\n\n    \u003cinsert id=\"addOrders\"\u003e\n        insert into t_orders (ordersno,accountid,roomtypeid,roomid,reservationname,idcard,phone,status,reservedate,\n        arrivedate,leavedate,reserveprice,remark)\n        values (#{ordersno},#{accountid},#{roomtypeid},#{roomid},#{reservationname},#{idcard},#{phone},\n        #{status},#{reservedate},#{arrivedate},#{leavedate},#{reserveprice},#{remark})\n    \u003c/insert\u003e\n\n    \u003cselect id=\"findOrdersList\" resultMap=\"ordersRoomAndTypeResultMap\"\u003e\n        select o.*,r.`roomNum`,t.`typeName` from t_orders o\n        inner join t_room r on r.id = o.`roomId`\n        inner join t_room_type t on t.id = r.`roomTypeId`\n        \u003cwhere\u003e\n            \u003cif test=\"reservationname!=null and reservationname!=''\"\u003e\n                and o.reservationname like concat('%',#{reservationname},'%')\n            \u003c/if\u003e\n            \u003cif test=\"idcard!=null and idcard!=''\"\u003e\n                and o.idcard like concat('%',#{idcard},'%')\n            \u003c/if\u003e\n            \u003cif test=\"phone!=null and phone!=''\"\u003e\n                and o.phone like concat('%',#{phone},'%')\n            \u003c/if\u003e\n            \u003cif test=\"roomtypeid!=null\"\u003e\n                and o.roomtypeid = #{roomtypeid}\n            \u003c/if\u003e\n            \u003cif test=\"status!=null\"\u003e\n                and o.status = #{status}\n            \u003c/if\u003e\n            \u003cif test=\"startDate!=null\"\u003e\n                \u003c![CDATA[ and o.reservedate \u003e= #{startDate} ]]\u003e\n            \u003c/if\u003e\n            \u003cif test=\"endDate!=null\"\u003e\n                \u003c![CDATA[ and o.reservedate \u003c= #{endDate }]]\u003e\n            \u003c/if\u003e\n        \u003c/where\u003e\n    \u003c/select\u003e\n\n    \u003cupdate id=\"updateOrders\" parameterType=\"com.bdqn.entity.Orders\"\u003e\n        update t_orders\n        \u003cset\u003e\n            \u003cif test=\"ordersno != null\"\u003e\n                ordersNo = #{ordersno,jdbcType=VARCHAR},\n            \u003c/if\u003e\n            \u003cif test=\"accountid != null\"\u003e\n                accountId = #{accountid,jdbcType=BIGINT},\n            \u003c/if\u003e\n            \u003cif test=\"roomtypeid != null\"\u003e\n                roomTypeId = #{roomtypeid,jdbcType=INTEGER},\n            \u003c/if\u003e\n            \u003cif test=\"roomid != null\"\u003e\n                roomId = #{roomid,jdbcType=BIGINT},\n            \u003c/if\u003e\n            \u003cif test=\"reservationname != null\"\u003e\n                reservationName = #{reservationname,jdbcType=VARCHAR},\n            \u003c/if\u003e\n            \u003cif test=\"idcard != null\"\u003e\n                idCard = #{idcard,jdbcType=VARCHAR},\n            \u003c/if\u003e\n            \u003cif test=\"phone != null\"\u003e\n                phone = #{phone,jdbcType=VARCHAR},\n            \u003c/if\u003e\n            \u003cif test=\"status != null\"\u003e\n                status = #{status,jdbcType=INTEGER},\n            \u003c/if\u003e\n            \u003cif test=\"reservedate != null\"\u003e\n                reserveDate = #{reservedate,jdbcType=TIMESTAMP},\n            \u003c/if\u003e\n            \u003cif test=\"arrivedate != null\"\u003e\n                arriveDate = #{arrivedate,jdbcType=TIMESTAMP},\n            \u003c/if\u003e\n            \u003cif test=\"leavedate != null\"\u003e\n                leaveDate = #{leavedate,jdbcType=TIMESTAMP},\n            \u003c/if\u003e\n            \u003cif test=\"reserveprice != null\"\u003e\n                reservePrice = #{reserveprice,jdbcType=DECIMAL},\n            \u003c/if\u003e\n            \u003cif test=\"remark != null\"\u003e\n                remark = #{remark,jdbcType=VARCHAR},\n            \u003c/if\u003e\n        \u003c/set\u003e\n        where id = #{id,jdbcType=BIGINT}\n    \u003c/update\u003e\n\n\u003c/mapper\u003e\n",
    "original_code": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003c!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"\u003e\n\u003cmapper namespace=\"com.bdqn.dao.OrdersMapper\"\u003e\n\n    \u003c!-- 定义基础的ResultMap --\u003e\n    \u003cresultMap id=\"BaseResultMap\" type=\"com.bdqn.entity.Orders\"\u003e\n        \u003cid column=\"id\" property=\"id\" /\u003e\n        \u003cresult column=\"ordersNo\"  property=\"ordersno\" /\u003e\n        \u003cresult column=\"accountId\" property=\"accountid\" /\u003e\n        \u003cresult column=\"roomTypeId\"  property=\"roomtypeid\" /\u003e\n        \u003cresult column=\"roomId\"  property=\"roomid\" /\u003e\n        \u003cresult column=\"reservationName\" property=\"reservationname\" /\u003e\n        \u003cresult column=\"idCard\" property=\"idcard\" /\u003e\n        \u003cresult column=\"phone\" property=\"phone\" /\u003e\n        \u003cresult column=\"status\"  property=\"status\" /\u003e\n        \u003cresult column=\"reserveDate\"  property=\"reservedate\" /\u003e\n        \u003cresult column=\"arriveDate\"  property=\"arrivedate\" /\u003e\n        \u003cresult column=\"leaveDate\" property=\"leavedate\" /\u003e\n        \u003cresult column=\"reservePrice\"  property=\"reserveprice\" /\u003e\n        \u003cresult column=\"remark\"  property=\"remark\" /\u003e\n    \u003c/resultMap\u003e\n\n    \u003cresultMap id=\"ordersRoomAndTypeResultMap\" type=\"com.bdqn.entity.Orders\" extends=\"BaseResultMap\"\u003e\n        \u003c!-- 配置订单与房间关系 --\u003e\n        \u003cassociation property=\"room\" javaType=\"com.bdqn.entity.Room\"\u003e\n            \u003cid column=\"id\" property=\"id\"/\u003e\n            \u003cresult property=\"roomnum\" column=\"roomnum\"/\u003e\n        \u003c/association\u003e\n        \u003c!-- 配置订单与房型关系 --\u003e\n        \u003cassociation property=\"roomType\" javaType=\"com.bdqn.entity.RoomType\"\u003e\n            \u003cid property=\"id\" column=\"id\"/\u003e\n            \u003cresult property=\"typename\" column=\"typename\"/\u003e\n        \u003c/association\u003e\n    \u003c/resultMap\u003e\n\n\n    \u003cinsert id=\"addOrders\"\u003e\n        insert into t_orders (ordersno,accountid,roomtypeid,roomid,reservationname,idcard,phone,status,reservedate,\n        arrivedate,leavedate,reserveprice,remark)\n        values (#{ordersno},#{accountid},#{roomtypeid},#{roomid},#{reservationname},#{idcard},#{phone},\n        #{status},#{reservedate},#{arrivedate},#{leavedate},#{reserveprice},#{remark})\n    \u003c/insert\u003e\n\n    \u003cselect id=\"findOrdersList\" resultMap=\"ordersRoomAndTypeResultMap\"\u003e\n        select o.*,r.`roomNum`,t.`typeName` from t_orders o\n        inner join t_room r on r.id = o.`roomId`\n        inner join t_room_type t on t.id = r.`roomTypeId`\n        \u003cwhere\u003e\n            \u003cif test=\"reservationname!=null and reservationname!=''\"\u003e\n                and o.reservationname like concat('%',#{reservationname},'%')\n            \u003c/if\u003e\n            \u003cif test=\"idcard!=null and idcard!=''\"\u003e\n                and o.idcard like concat('%',#{idcard},'%')\n            \u003c/if\u003e\n            \u003cif test=\"phone!=null and phone!=''\"\u003e\n                and o.phone like concat('%',#{phone},'%')\n            \u003c/if\u003e\n            \u003cif test=\"roomtypeid!=null\"\u003e\n                and o.roomtypeid = #{roomtypeid}\n            \u003c/if\u003e\n            \u003cif test=\"status!=null\"\u003e\n                and o.status = #{status}\n            \u003c/if\u003e\n            \u003cif test=\"startDate!=null\"\u003e\n                \u003c![CDATA[ and o.reservedate \u003e= #{startDate} ]]\u003e\n            \u003c/if\u003e\n            \u003cif test=\"endDate!=null\"\u003e\n                \u003c![CDATA[ and o.reservedate \u003c= #{endDate }]]\u003e\n            \u003c/if\u003e\n        \u003c/where\u003e\n    \u003c/select\u003e\n\n    \u003cupdate id=\"updateOrders\" parameterType=\"com.bdqn.entity.Orders\"\u003e\n        update t_orders\n        \u003cset\u003e\n            \u003cif test=\"ordersno != null\"\u003e\n                ordersNo = #{ordersno,jdbcType=VARCHAR},\n            \u003c/if\u003e\n            \u003cif test=\"accountid != null\"\u003e\n                accountId = #{accountid,jdbcType=BIGINT},\n            \u003c/if\u003e\n            \u003cif test=\"roomtypeid != null\"\u003e\n                roomTypeId = #{roomtypeid,jdbcType=INTEGER},\n            \u003c/if\u003e\n            \u003cif test=\"roomid != null\"\u003e\n                roomId = #{roomid,jdbcType=BIGINT},\n            \u003c/if\u003e\n            \u003cif test=\"reservationname != null\"\u003e\n                reservationName = #{reservationname,jdbcType=VARCHAR},\n            \u003c/if\u003e\n            \u003cif test=\"idcard != null\"\u003e\n                idCard = #{idcard,jdbcType=VARCHAR},\n            \u003c/if\u003e\n            \u003cif test=\"phone != null\"\u003e\n                phone = #{phone,jdbcType=VARCHAR},\n            \u003c/if\u003e\n            \u003cif test=\"status != null\"\u003e\n                status = #{status,jdbcType=INTEGER},\n            \u003c/if\u003e\n            \u003cif test=\"reservedate != null\"\u003e\n                reserveDate = #{reservedate,jdbcType=TIMESTAMP},\n            \u003c/if\u003e\n            \u003cif test=\"arrivedate != null\"\u003e\n                arriveDate = #{arrivedate,jdbcType=TIMESTAMP},\n            \u003c/if\u003e\n            \u003cif test=\"leavedate != null\"\u003e\n                leaveDate = #{leavedate,jdbcType=TIMESTAMP},\n            \u003c/if\u003e\n            \u003cif test=\"reserveprice != null\"\u003e\n                reservePrice = #{reserveprice,jdbcType=DECIMAL},\n            \u003c/if\u003e\n            \u003cif test=\"remark != null\"\u003e\n                remark = #{remark,jdbcType=VARCHAR},\n            \u003c/if\u003e\n        \u003c/set\u003e\n        where id = #{id,jdbcType=BIGINT}\n    \u003c/update\u003e\n\n\u003c/mapper\u003e\n",
    "path": "src/main/resources/mapper/OrdersMapper.xml",
    "model_usage_metrics": {
        "Duration": 30241545764,
        "OpenAiUsage": {
            "completion_tokens": 0,
            "prompt_tokens": 0,
            "total_tokens": 0,
            "completion_tokens_details": {
                "accepted_prediction_tokens": 0,
                "audio_tokens": 0,
                "reasoning_tokens": 0,
                "rejected_prediction_tokens": 0
            },
            "prompt_tokens_details": {
                "audio_tokens": 0,
                "cached_tokens": 0
            }
        }
    }
}